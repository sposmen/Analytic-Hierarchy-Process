div(ng-app='ng-app')
  div(ng-controller='HomeCtrl')
    
    div.row-fluid
      h3.span3 Ingresa la meta
        input.input-xxlarge(type='text', ng-model="meta")
    
    div(ng-include="'/partials/factors.html'")
    
    hr
    
    h3 Proyectos/Opciones a evaluar
      button.btn.btn-primary(ng-click='addOption()')
        i.icon-plus.icon-white
        |  Opción
    
    .row-fluid
      table.table.table-bordered.table-striped
        tr
          th
          th Nombre
          th Descripción
        tr(ng-repeat='option in options')
          td {{$index+1}}
          td
            input(type='text',ng-model='option.name')
          td
            input(type='text',ng-model='option.description')
          
    div(ng-repeat="factor in factors")
      h3 Comparación de proyectos/opciones por el factor 
        b {{factor.name}}
      div(ng-include="'/partials/options.html'")
      
    h2 Resultados
    .row-fluid
      table.table.table-bordered.table-striped
        tr
          td
          th(ng-repeat='factor in factors') {{factor.name}}
          th Totales
        tr
          td
          th(ng-repeat='factor in factors') {{rowSum[$index]|number:2}}
          td
        tr(ng-repeat='option in options')
          th {{option.name}}
          td(ng-repeat='factor in factors') {{rowSumOptions[$index][$parent.$index] | number:2}}
          th {{optionsScore[$index].score*100 | number:2}}%
        
    h3 Resumen
    
    p Para el presente ejercicio se realizó el análisis por jerarquía de procesos para lograr la meta {{meta}} el score es el siguiente:
    ol
      li(ng-repeat="result in optionsScore | orderBy:'score':'true'")
        b {{result.option.name}}
        | , Score: {{result.score*100|number:2}}%
        
    button.btn.import-cvs(clicks-to=".file") Cargar
    input.file(type="file", onchange="angular.element(this).scope().handleFileSelect(this)", ng-show="false")
    button.btn(ng-click='saveFile()') Guardar
    
    
    
    