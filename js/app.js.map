{"version":3,"file":"_public/js/app.js.map","sources":["app/app.coffee","app/scripts/controllers/app.controllers.coffee","app/scripts/controllers/home.controller.coffee","app/scripts/directives.coffee","app/scripts/filters.coffee","app/scripts/services.coffee"],"names":["App","angular","module","config","$routeProvider","$locationProvider","when","templateUrl","otherwise","redirectTo","html5Mode","Controllers","controller","$scope","$location","$watch","path","activeNavId","getClass","id","substring","length","onePlusOne","$rootScope","pageTitle","factors","description","name","pairwise","pairwisefractions","columnSum","columnSumUnit","rowSum","column","i","j","row","v1","v2","_i","_j","_k","_l","_len","_len1","_len2","_len3","_ref","_ref1","_ref2","_results","eval","parseFloat","push","addFactor","option","pair_wise_options","options","pair_wise_options_fractions","columnSumOptions","columnSumUnitOptions","rowSumOptions","factor","k","_len4","_m","_ref3","_results1","addOption","optionsScore","score","saveFile","data","downloadData","newWindow","uriContent","$","base64","btoa","JSON","stringify","window","open","handleFileSelect","element","reader","selectedFile","files","FileReader","onload","e","parse","atob","target","result","readAsText","replaceAll","clone","alert","loadData","directive","version","scope","elm","text","attrs","on","preventDefault","parent","find","clicksTo","click","filter","String","replace","factory"],"mappings":"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","sourcesContent":["'use strict'\n\n# Declare app level module which depends on filters, and services\nApp = angular.module('app', [\n  'ngCookies'\n  'ngResource'\n  'app.controllers'\n  'app.directives'\n  'googlechart.directives'\n  'app.filters'\n  'app.services'\n  'partials'\n])\n\nApp.config([\n  '$routeProvider'\n  '$locationProvider'\n\n($routeProvider, $locationProvider, config) ->\n\n  $routeProvider\n\n    .when('/home', {templateUrl: '/partials/home.html'})\n    .when('/view1', {templateUrl: '/partials/partial1.html'})\n    .when('/view2', {templateUrl: '/partials/partial2.html'})\n\n    # Catch all\n    .otherwise({redirectTo: '/home'})\n\n  # Without server side support html5 must be disabled.\n  $locationProvider.html5Mode(false)\n])\n","'use strict'\n\n### Controllers ###\n\nControllers = angular.module('app.controllers', [])\n\n.controller('AppCtrl', [\n  '$scope'\n  '$location'\n  '$resource'\n  '$rootScope'\n\n($scope, $location, $resource, $rootScope) ->\n\n  # Uses the url to determine if the selected\n  # menu item should have the class active.\n  $scope.$location = $location\n  $scope.$watch('$location.path()', (path) ->\n    $scope.activeNavId = path || '/'\n  )\n\n  # getClass compares the current url with the id.\n  # If the current url starts with the id it returns 'active'\n  # otherwise it will return '' an empty string. E.g.\n  #\n  #   # current url = '/products/1'\n  #   getClass('/products') # returns 'active'\n  #   getClass('/orders') # returns ''\n  #\n  $scope.getClass = (id) ->\n    if $scope.activeNavId.substring(0, id.length) == id\n      return 'active'\n    else\n      return ''\n])\n\n.controller('MyCtrl1', [\n  '$scope'\n\n($scope) ->\n  $scope.onePlusOne = 2\n])\n\n.controller('MyCtrl2', [\n  '$scope'\n\n($scope) ->\n  $scope\n])\n","Controllers.controller('HomeCtrl', [\n  '$scope'\n  '$rootScope'\n\n($scope, $rootScope) ->\n  \n  $rootScope.pageTitle = \"Analytic Hierarchy Process\"\n  \n  \n  #Initial Factors\n  $scope.factors = [\n    description:''\n    name: 'Sample Factor'\n  ]\n  \n  $scope.pairwise = [[]]\n  $scope.pairwisefractions = [[]]\n  \n  $scope.columnSum = []\n  $scope.columnSumUnit = []\n  $scope.rowSum = []\n  \n  $scope.$watch 'pairwise',->\n    $scope.columnSum = []\n    $scope.columnSumUnit = []\n    $scope.rowSum = []\n    for row,i in $scope.pairwise\n      for column,j in row\n        column = $scope.pairwisefractions[i][j] = eval(column)\n        $scope.columnSum[j] = 0 if $scope.columnSum[j] is undefined\n        $scope.columnSum[j] = $scope.columnSum[j] + parseFloat(column)\n    for v1, i in $scope.factors\n      $scope.rowSum[i] = 0 if $scope.rowSum[i] is undefined\n      for v2, j in $scope.factors\n        $scope.columnSumUnit[j] = 0 if $scope.columnSumUnit[j] is undefined\n        $scope.columnSumUnit[j] = $scope.columnSumUnit[j] + $scope.pairwisefractions[i][j]/$scope.columnSum[j]\n        $scope.rowSum[i] = $scope.rowSum[i] + $scope.pairwisefractions[i][j]/$scope.columnSum[j]\n      $scope.rowSum[i] = $scope.rowSum[i]/$scope.factors.length\n  , true\n    \n  $scope.addFactor=()->\n    $scope.factors.push(description:'', name:'New Factor')\n    $scope.pairwise.push([])\n    $scope.pairwisefractions.push([])\n    $scope.pair_wise_options.push(([] for option in $scope.options))\n    $scope.pair_wise_options_fractions.push(([] for option in $scope.options))\n  \n  # Proyects or Options to be evaluated\n  $scope.options = [\n    description:''\n    name:'Sample Option'\n  ]\n  \n  $scope.pair_wise_options = [[[]]]\n  $scope.pair_wise_options_fractions = [[[]]]\n  \n  $scope.columnSumOptions = [[]]\n  $scope.columnSumUnitOptions = [[]]\n  $scope.rowSumOptions = [[]]\n  \n  $scope.$watch 'pair_wise_options',->\n    for factor,k in $scope.factors \n      $scope.columnSumOptions[k] = []\n      $scope.columnSumUnitOptions[k] = []\n      $scope.rowSumOptions[k] = []\n      for row,i in $scope.pair_wise_options[k]\n        for column,j in row\n          column = $scope.pair_wise_options_fractions[k][i][j] = eval(column)\n          $scope.columnSumOptions[k][j] = 0 if $scope.columnSumOptions[k][j] is undefined\n          $scope.columnSumOptions[k][j] = $scope.columnSumOptions[k][j] + parseFloat(column)\n      for v1, i in $scope.options\n        $scope.rowSumOptions[k][i] = 0 if $scope.rowSumOptions[k][i] is undefined\n        for v2, j in $scope.options\n          $scope.columnSumUnitOptions[k][j] = 0 if $scope.columnSumUnitOptions[k][j] is undefined\n          $scope.columnSumUnitOptions[k][j] = $scope.columnSumUnitOptions[k][j] + $scope.pair_wise_options_fractions[k][i][j]/$scope.columnSumOptions[k][j]\n          $scope.rowSumOptions[k][i] = $scope.rowSumOptions[k][i] + $scope.pair_wise_options_fractions[k][i][j]/$scope.columnSumOptions[k][j]\n        $scope.rowSumOptions[k][i] = $scope.rowSumOptions[k][i]/$scope.options.length\n  , true\n  \n  $scope.addOption=()->\n    $scope.options.push(name:'New Option', description:'')\n    ($scope.pair_wise_options[i].push([]) && $scope.pair_wise_options_fractions[i].push([]) ) for factor,i in $scope.factors\n  \n  $scope.optionsScore = []\n  \n  $scope.$watch 'rowSumOptions', ->\n    $scope.optionsScore = []\n    for factor, k in $scope.factors\n      for option, i in $scope.options\n        $scope.optionsScore[i] = {option:option, score:0} if $scope.optionsScore[i] is undefined\n        $scope.optionsScore[i].score = $scope.optionsScore[i].score + ($scope.rowSum[k] * $scope.rowSumOptions[k][i])\n    \n  , true\n  \n  \n  #File utility\n  \n  $scope.saveFile=()->\n    data =\n      factors:$scope.factors\n      pairwise: $scope.pairwise\n      options: $scope.options\n      pair_wise_options:$scope.pair_wise_options\n    \n    downloadData = $.base64.btoa(JSON.stringify(data));      \n    uriContent = \"data:application/octet;filename=AHP.json,\" + downloadData \n    newWindow=window.open(uriContent, 'AHP.json');\n  \n  \n  $scope.handleFileSelect = (element)->\n    $scope.selectedFile = element.files[0]\n    if $scope.selectedFile?\n      reader = new FileReader()\n\n      reader.onload = ((file)->\n        (e)->\n          data = JSON.parse $.base64.atob(e.target.result)\n          $scope.factors= data.factors\n          $scope.pairwise= data.pairwise\n          $scope.options= data.options\n          $scope.pair_wise_options=data.pair_wise_options\n      )($scope.selectedFile)\n\n      reader.readAsText $scope.selectedFile\n      $(element).replaceAll($(element).clone())\n    else\n      alert 'Invalid file'\n      \n  $scope.loadData=(data)->\n    \n])\n","'use strict'\n\n### Directives ###\n\n# register the module with Angular\nangular.module('app.directives', [\n  # require the 'app.service' module\n  'app.services'\n])\n\n.directive('appVersion', [\n  'version'\n\n(version) ->\n\n  (scope, elm, attrs) ->\n    elm.text(version)\n])\n\n.directive 'clicksTo', ->\n  (scope, element, attrs) ->\n    $(element).on 'click', (e) ->\n      e.preventDefault()\n      $(element).parent().find(attrs.clicksTo).click()\n","'use strict'\n\n### Filters ###\n\nangular.module('app.filters', [])\n\n.filter('interpolate', [\n  'version',\n\n(version) ->\n  (text) ->\n    String(text).replace(/\\%VERSION\\%/mg, version)\n])\n","'use strict'\n\n### Sevices ###\n\nangular.module('app.services', [])\n\n.factory 'version', -> \"0.1\"\n"]}